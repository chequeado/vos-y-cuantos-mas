<div class="nav-tabs-custom">
    <ul id="myTabs" class="nav nav-tabs">
      <li class="active"><a href="#tab_1" data-toggle="tab" aria-expanded="false"><i class="fa fa-question"></i> Pregunta</a></li>
      <li class=""><a href="#tab_2" data-toggle="tab" aria-expanded="false"><i class="fa fa-list"></i> Opciones</a></li>
      <li class=""><a href="#tab_3" data-toggle="tab" aria-expanded="true"><i class="fa fa-check"></i> Respuesta</a></li>
    </ul>
    <div class="tab-content">
      <div class="tab-pane active" id="tab_1">
        <div class="form-group">
            <label class="col-lg-2 control-label">{{ trans('custom.backend.questions.title') }}</label>
            <div class="col-lg-10">
                {!! Form::text('title', null, ['class' => 'form-control', 'placeholder' => trans('custom.backend.questions.title'),'maxlength'=>'100']) !!}
                <p class="help-block">Límite 100 caracteres</p>
            </div>
        </div><!--form control-->

        <div class="form-group">
            <label class="col-lg-2 control-label">Pregunta</label>
            <div class="col-lg-10">
                {!! Form::textarea('call_action', null, ['class' => 'form-control', 'placeholder' => trans('custom.backend.questions.call'),'maxlength'=>'400']) !!}
                <p class="help-block">Límite 400 caracteres</p>
            </div>
        </div><!--form control-->

        <div class="form-group">
            <label class="col-lg-2 control-label">¿Publicada?</label>
            <div class="col-lg-10">
                <div class="radio-inline">
                  <label>
                    {{ Form::radio('published', '1') }}
                    SI
                  </label>
                </div>
                <div class="radio-inline">
                  <label>
                    {{ Form::radio('published', '0') }}
                    NO
                  </label>
                </div>
            </div>
        </div><!--form control-->

        <div class="form-group">
            <label class="col-lg-2 control-label">¿Sensible? <p class="help-block">Oculta los emojis y nunca puede ser la primera pregunta en la ronda</p></label>

            <div class="col-lg-10">
                <div class="radio-inline">
                  <label>
                    {{ Form::radio('sensitive', '1') }}
                    SI
                  </label>
                </div>
                <div class="radio-inline">
                  <label>
                    {{ Form::radio('sensitive', '0') }}
                    NO
                  </label>
                </div>
            </div>
        </div><!--form control-->

        <div class="form-group">
            <label class="col-lg-2 control-label">{{ trans('custom.backend.questions.category_id') }}</label>
            <div class="col-lg-10">
                {!! Form::select('category_id', $categories, null, array('class'=>'form-control chosen-select')) !!}
            </div>
        </div><!--form control-->

        <div class="form-group">
            <label class="col-lg-2 control-label">{{ trans('custom.backend.questions.image_file') }}</label>
            <div class="hide">
                {!! Form::text('image_file', null, ['class' => 'form-control', 'placeholder' => trans('custom.backend.questions.image_file')]) !!}
            </div>
            <div ng-controller="ImageCtrl" ng-init="init('{{isset($obj)?$obj->image_file:''}}')">
                <div class="col-lg-5">
                    <input type='file' class="hide" id="inputFile" name="image_new_file"/>
                    <img id="image_upload_preview" class="img-responsive" ng-src="@{{imgUrl}}" />
                </div>
                <div class="col-lg-5">
                    <a class="btn btn-primary btn-flat" ng-click="openImage()"><i class="fa fa-image"></i> Cambiar Imagen</a>
                    <a class="btn btn-default btn-flat hide" ng-click="clearImage()"><i class="fa fa-trash"></i> Limpiar imagen</a>
                    <p>No olvides hacer click en el botón verde de Guardar.</p>
                </div>
            </div>
        </div><!--form control-->

        <div class="form-group">
            <label class="col-lg-2 control-label">Créditos de la imagen: texto</label>
            <div class="col-lg-10">
                {!! Form::text('image_credit_source', null, ['class' => 'form-control', 'placeholder' => 'Créditos de la imagen: texto','maxlength'=>'400']) !!}
                <p class="help-block">Límite 400 caracteres</p>
            </div>
        </div><!--form control-->

        <div class="form-group">
            <label class="col-lg-2 control-label">Créditos de la imagen: link</label>
            <div class="col-lg-10">
                {!! Form::text('image_credit_link', null, ['class' => 'form-control', 'placeholder' => 'Créditos de la imagen: link','maxlength'=>'400']) !!}
                <p class="help-block">Límite 400 caracteres</p>
            </div>
        </div><!--form control-->

        <div class="form-group">
            <label class="col-lg-2 control-label">{{ trans('custom.backend.questions.description') }}</label>
            <div class="col-lg-10">
                {!! Form::text('description', null, ['class' => 'form-control', 'placeholder' => trans('custom.backend.questions.description'),'maxlength'=>'200']) !!}
                <p class="help-block">Límite 200 caracteres</p>
            </div>
        </div><!--form control-->

        <div class="form-group">
            <label class="col-lg-2 control-label">{{ trans('custom.backend.questions.description_suffix') }}</label>
            <div class="col-lg-10">
                {!! Form::text('description_suffix', null, ['class' => 'form-control', 'placeholder' => trans('custom.backend.questions.description_suffix'),'maxlength'=>'200']) !!}
                <p class="help-block">Límite 200 caracteres</p>
            </div>
        </div><!--form control-->
      </div>
      <!-- /.tab-pane -->
      <div class="tab-pane" id="tab_2">
        <div ng-controller="QuestionCtrl">

            <div class="form-group" ng-init="init({{ (isset($obj))?$obj->toJson():'{}' }},{{ (isset($obj))?$obj->options->toJson():'[]' }})">
                <!--label class="col-lg-2 control-label">{{ trans('custom.backend.questions.answer_type_id') }}</label>
                <div class="col-lg-10">
                    {!! Form::select('answer_type_id', $answer_types, null, array('class'=>'form-control', 'ng-model'=>'answer_type', 'chosen'=>'', 'ng-change' => 'changeType()')) !!}
                </div-->
            </div><!--form control-->

            {!! Form::hidden('answer_type_id', 'options', array('class'=>'form-control', 'ng-model'=>'answer_type')) !!}

             <div ng-if="answer_type" ng-include="include_options">
                <!-- template de options -->
             </div>

        </div>
      </div>
      <!-- /.tab-pane -->
      <div class="tab-pane" id="tab_3">
        <div class="form-group">
            <label class="col-lg-2 control-label">{{ trans('custom.backend.questions.answer_link') }}</label>
            <div class="col-lg-10">
                {!! Form::text('answer_link', null, ['class' => 'form-control', 'placeholder' => trans('custom.backend.questions.answer_link'),'maxlength'=>'200']) !!}
                <p class="help-block">Límite 200 caracteres</p>
            </div>
        </div><!--form control-->

        <div class="form-group">
            <label class="col-lg-2 control-label">{{ trans('custom.backend.questions.answer_title') }}</label>
            <div class="col-lg-10">
                {!! Form::text('answer_title', null, ['class' => 'form-control', 'placeholder' => trans('custom.backend.questions.answer_title'),'maxlength'=>'100']) !!}
                <p class="help-block">Límite 100 caracteres</p>
            </div>
        </div><!--form control-->

        <div class="form-group">
            <label class="col-lg-2 control-label">{{ trans('custom.backend.questions.answer_description') }}</label>
            <div class="col-lg-10">
                {!! Form::textarea('answer_description', null, ['class' => 'form-control', 'placeholder' => trans('custom.backend.questions.answer_description')]) !!}
                <p class="help-block">Este campo no tiene límite de caracteres</p>
            </div>
        </div><!--form control-->

        <div class="form-group">
            <label class="col-lg-2 control-label">{{ trans('custom.backend.questions.icon') }}</label>
            <div class="col-lg-10">
                @include('backend.questions.select', array('name' => 'icon','selected' => (isset($obj))?$obj->icon:null))
            </div>
        </div><!--form control-->



        <div class="form-group">
            <label class="col-lg-2 control-label">{{ trans('custom.backend.questions.answer_source') }}</label>
            <div class="col-lg-10">
                {!! Form::text('answer_source', null, ['class' => 'form-control', 'placeholder' => trans('custom.backend.questions.answer_source'),'maxlength'=>'200']) !!}
                <p class="help-block">Límite 200 caracteres</p>
            </div>
        </div><!--form control-->

        <div class="form-group">
            <label class="col-lg-2 control-label">{{ trans('custom.backend.questions.answer_source_link') }}</label>
            <div class="col-lg-10">
                {!! Form::text('answer_source_link', null, ['class' => 'form-control', 'placeholder' => trans('custom.backend.questions.answer_source_link'),'maxlength'=>'200']) !!}
                <p class="help-block">Límite 200 caracteres</p>
            </div>
        </div><!--form control-->

        <div class="form-group">
            <label class="col-lg-2 control-label">{{ trans('custom.backend.questions.share_text') }}</label>
            <div class="col-lg-10">
                {!! Form::text('share_text', null, ['class' => 'form-control', 'placeholder' => trans('custom.backend.questions.share_text'),'maxlength'=>'200']) !!}
                <p class="help-block">Límite 100 caracteres</p>
            </div>
        </div><!--form control-->

      </div>
      <!-- /.tab-pane -->
    </div>
    <!-- /.tab-content -->
</div>

<div class="box">
    <div class="box-body">
        <div class="pull-left">
            <a href="{{route('admin.questions.index')}}" class="btn btn-danger btn-large btn-flat">{{ trans('buttons.general.cancel') }}</a>
        </div>
        <div class="pull-right">
            <input type="submit" class="btn btn-success btn-large btn-flat" value="{{ trans('buttons.general.save') }}" />
        </div>
    </div>
</div>
<div class="clearfix"></div>
